
@{
    ViewBag.Title = "Company";
}

<div ng-app="RegistrationForm" ng-controller="Home">

    @*<div class="row page-titles">
        <div class="col-md-5 align-self-center">
            <h4 class="text-themecolor">Company Registration</h4>
        </div>
        <div class="col-md-7 align-self-center">
            <div class="d-flex justify-content-end align-items-center">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
                    <li class="breadcrumb-item active">Company Registration</li>
                </ol>
            </div>
        </div>
    </div>*@

    <!--row-->
    <div class="row">
        <div class="col-lg-12">
            <div class="card">

                <div class="card-header bg-info">
                    <h4 class="m-b-0 text-white">Company Registration</h4>
                </div>
                <div class="card-body">
                    <div id="CompanyName" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog modal-xl">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title" id="myLargeModalLabel">Select Company Name</h4>
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <div class="col-md-7">

                                        </div>
                                        <div class="col-md-1">
                                            <label for="CompSearch">Search:</label>
                                        </div>
                                        <div class="col-md-4 form-material">
                                            <input type="text" class="form-control" id="UserSearch" ng-model="TxtCompSearch" />
                                        </div>
                                    </div>
                                    <div class="table-responsive-sm">
                                        <table class="table-sm table-hover table-bordered text-dark">
                                            <thead>
                                                <tr>
                                                    <th>Company Name</th>
                                                    <th>Address</th>
                                                    <th>Mobile 1</th>
                                                    <th>Mobile 2</th>
                                                    <th>Business Type</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="item in dtGetAll | filter:TxtCompSearch">
                                                    <td><button ng-click="GetDataByID(item.CompanyID)" class="btn btn-link" data-dismiss="modal">{{item.CompanyName}}</button></td>
                                                    <td>{{item.Address}}</td>
                                                    <td>{{item.Mobile1}}</td>
                                                    <td>{{item.Mobile2}}</td>
                                                    <td>{{item.BusinessType}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-danger waves-effect text-left" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <div id="DiscClass" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog modal-xl">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title" id="myLargeModalLabel">Select Company Discount</h4>
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <div class="col-md-7">

                                        </div>
                                        <div class="col-md-1">
                                            <label for="CompSearch">Search:</label>
                                        </div>
                                        <div class="col-md-4 form-material">
                                            <input type="text" class="form-control" id="UserSearch" ng-model="TxtDiscSearch" />
                                        </div>
                                    </div>
                                    <div class="table-responsive-sm">
                                        <table class="table-sm table-hover table-bordered text-dark">
                                            <thead>
                                                <tr>
                                                    <th>Class ID</th>
                                                    <th>Class Name</th>
                                                    <th>Clinic Discount</th>
                                                    <th>Pharmacy Discount</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="item in dtClassGetAll | filter:TxtDiscSearch">
                                                    <td><button ng-click="GetClassDataByID(item.ClassID,item.ClassName)" class="btn btn-link" data-dismiss="modal">{{item.ClassID}}</button></td>
                                                    <td>{{item.ClassName}}</td>
                                                    <td>{{item.ClinicDis}}</td>
                                                    <td>{{item.PharmacyDis}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-danger waves-effect text-left" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <!-- /.Company Search End -->
                    <form name="CreateCompany">
                        <div class="form-body form-group">
                            <div class="row p-t-20">
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="CompID">Company ID:</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <input type="text" id="CompID" class="form-control form-input-grey text-center font-weight-bold" ng-model="txtCompanyID" readonly />
                                        <div class="input-group-append">
                                            <button type="button" class="btn btn-info" alt="default" data-toggle="modal" data-target="#CompanyName" href="javascript:void(0)" ng-click="GetAllData()"><i class="ti-search"></i></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-1"></div>
                                <div class="col-md-1">
                                    <label class="control-label text-dark" for="txtStatus">Status:</label>
                                </div>
                                <div class="col-md-3">
                                    <select id="Status" ng-model="txtStatus" class="btn btn-outline-secondary dropdown-toggle form-control form-input-grey">
                                        <option value="false">Active</option>
                                        <option value="true">InActive</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row p-t-20">
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="CompName">Company Name:</label>
                                </div>
                                <div class="col-md-8">
                                    <div class="input-group">
                                        <input type="text" id="DrName" class="form-control form-input-grey" ng-model="txtCompName" required />
                                    </div>
                                </div>
                            </div>
                            <div class="row p-t-20">
                                <!--/span-->
                                <div class="col-md-1"></div>
                                <div class="col-md-1">
                                    <label class="control-label text-dark" for="ContPerson">Contact Person:</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <input type="text" maxlength="12" id="ContPerson" placeholder="3001234567" ng-blur="getContactLength()" class="form-control form-input-grey" ng-model="txtContactPerson" />
                                    </div>
                                </div>
                                <div class="col-md-1"></div>
                                <div class="col-md-1">
                                    <label class="control-label text-dark" for="Cnic">CNIC:</label>
                                </div>
                                <div class="col-md-3">
                                    <input type="text" id="Cnic" ng-model="TxtCnic" class="form-control form-input-grey" />
                                </div>
                            </div>
                            <div class="row p-t-20">
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="Ntn">NTN:</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <input type="text" id="NTN" class="form-control form-input-grey" ng-model="txtNTN" />
                                    </div>
                                </div>
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="STRN">STRN:</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <input type="text" id="STRN" class="form-control form-input-grey" ng-model="txtSTRN" />
                                    </div>
                                </div>
                            </div>
                            <!--/span-->
                            <div class="row p-t-20">
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="Address">Address:</label>
                                </div>
                                <div class="col-md-8">
                                    <div class="input-group">
                                        <input type="text" id="Address" class="form-control form-input-grey" ng-model="txtAddress" />
                                    </div>
                                </div>
                            </div>

                            <!--/span-->

                            <div class="row p-t-20">
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="City">City:</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <input type="text" id="City" class="form-control form-input-grey" ng-model="txtCity" />
                                    </div>
                                </div>
                                <!--/span-->
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="Country">Country:</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <input type="text" id="Country" class="form-control form-input-grey" ng-model="txtCountry" />
                                    </div>
                                </div>
                                <!--/span-->
                            </div>
                            <div class="row p-t-20">
                                <!--/span-->
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="Tel1">Cell # 1:</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <input type="text" maxlength="12" id="Tel1" placeholder="3001234567" ng-blur="getTel1Length()" class="form-control form-input-grey" ng-model="txtTel1" />
                                    </div>
                                </div>
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="Tel2">Cell # 2:</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <input type="text" maxlength="12" id="Tel2" placeholder="3001234567" ng-blur="getTel2Length()" class="form-control form-input-grey" ng-model="txtTel2" />
                                    </div>
                                </div>
                                <!--/span-->
                            </div>
                            <div class="row p-t-20">
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="Tel">Tel:</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <input type="text" id="Tel" class="form-control form-input-grey" ng-model="txtTel" />
                                    </div>
                                </div>
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="BusinesTyp">Business Type:</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <input type="text" id="BusinesTyp" class="form-control form-input-grey" ng-model="txtBusinesTyp" />
                                    </div>
                                </div>
                                <!--/span-->
                            </div>
                            <div class="row p-t-20">
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="Remarks">Remarks:</label>
                                </div>
                                <div class="col-md-8">
                                    <div class="input-group">
                                        <input type="text" id="Remarks" class="form-control form-input-grey" ng-model="txtRemarks" />
                                    </div>
                                </div>
                            </div>
                            <div class="row p-t-20">
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="Class ID">Class ID:</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <input type="text" id="ClassID" class="form-control form-input-grey" ng-model="txtClassID" readonly />
                                        <div class="input-group-append">
                                            <button type="button" class="btn btn-info" alt="default" data-toggle="modal" data-target="#DiscClass" href="javascript:void(0)" ng-click="GetDiscClassData()" ><i class="ti-search"></i></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-1"></div>
                                <div class="col-sm-1">
                                    <label class="control-label text-dark" for="ClassName">Class Name:</label>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <input type="text" id="ClassName" class="form-control form-input-grey" ng-model="txtClassName" readonly />
                                    </div>
                                </div>
                                <!--/span-->
                            </div>
                            <div class="row p-t-20">
                                <div class="col-md-3"></div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <button ng-click="savedata()" ng-hide="CUSaveBtn" ng-disabled="CreateCompany.$invalid" class="btn btn-outline-success form-control"><i class="fa fa-check"></i>Save</button>
                                        <button ng-click="On_Update()" ng-hide="CUUpdateBtn" ng-disabled="CreateCompany.$invalid" class="btn btn-outline-success form-control"><i class="fa fa-check"></i>Update</button>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <button ng-click="On_Clear()" class="btn btn-outline-warning form-control"><i class="icon-refresh"></i> Clear </button>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="form-group">
                                        <button ng-disabled="Delbtn" ng-click="OnDelete()" class="btn btn-outline-danger form-control"><i class="icon-trash"></i>Delete</button>
                                    </div>
                                </div>
                                <div class="col-md-3"></div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Row -->
</div>
@section scripts {
    <script>

        var RegistrationForm = angular.module("RegistrationForm", []);
        RegistrationForm.controller("Home", function ($scope, $http) {
            $scope.Notification = function (Type, Heading, Test) {
                //info, warning, success, error
                $.toast({
                    heading: Heading,
                    text: Test,
                    position: 'top-right',
                    loaderBg: '#ff6849',
                    icon: Type,
                    hideAfter: 3500,
                    stack: 6
                });
            };
                        $scope.getTel1Length = function () {
            $scope.length = '';
            if ($scope.txtEmpTel1 == undefined) {
                $scope.Notification('error', 'Error', 'Please Enter Valid Length Mobile # Format/923121234567');
            }
            else {
                //Nothing will do
            }
            var StartingString = $scope.txtEmpTel1.startsWith("92");
            $scope.length = $scope.txtEmpTel1.length;
            if ($scope.length == '10' && StartingString == false) {
                $scope.txtEmpTel1 = '92' + $scope.txtEmpTel1;
            }
            else if ($scope.length == '12' && StartingString == true) {
                $scope.txtEmpTel1 = $scope.txtEmpTel1;
            }
            else {
                $scope.txtEmpTel1 = '';
                $scope.Notification('error', 'Error', 'Please Enter Valid Length Mobile # Format/923121234567');
            }
        };
        $scope.getTel2Length = function () {
            $scope.length = '';
            if ($scope.txtEmpTel2 == undefined) {
                $scope.Notification('error', 'Error', 'Please Enter Valid Length Mobile # Format/923121234567');
            }
            else {
                //Nothing will do
            }
            var StartingString = $scope.txtEmpTel2.startsWith("92");
            $scope.length = $scope.txtEmpTel2.length;
            if ($scope.length == '10' && StartingString == false) {
                $scope.txtEmpTel2 = '92' + $scope.txtEmpTel2;
            }
            else if ($scope.length == '12' && StartingString == true) {
                $scope.txtEmpTel2 = $scope.txtEmpTel2;
            }
            else {
                $scope.txtEmpTel2 = '';
                $scope.Notification('error', 'Error', 'Please Enter Valid Length Mobile # Format/923121234567');
            }
            };
                $scope.getTel2Length = function () {
                $scope.length = '';
                if ($scope.txtEmpTel2 == undefined) {
                    $scope.Notification('error', 'Error', 'Please Enter Valid Length Mobile # Format/923121234567');
                }
                else {
                    //Nothing will do
                }
                var StartingString = $scope.txtEmpTel2.startsWith("92");
                $scope.length = $scope.txtEmpTel2.length;
                if ($scope.length == '10' && StartingString == false) {
                    $scope.txtEmpTel2 = '92' + $scope.txtEmpTel2;
                }
                else if ($scope.length == '12' && StartingString == true) {
                    $scope.txtEmpTel2 = $scope.txtEmpTel2;
                }
                else {
                    $scope.txtEmpTel2 = '';
                    $scope.Notification('error', 'Error', 'Please Enter Valid Length Mobile # Format/923121234567');
                }
            };
            $scope.getContactLength = function () {
            $scope.length = '';
            if ($scope.txtContactPerson == undefined) {
                $scope.Notification('error', 'Error', 'Please Enter Valid Length Mobile # Format/923121234567');
            }
            else {
                //Nothing will do
            }
            var StartingString = $scope.txtContactPerson.startsWith("92");
            $scope.length = $scope.txtContactPerson.length;
            if ($scope.length == '10' && StartingString == false) {
                $scope.txtContactPerson = '92' + $scope.txtContactPerson;
            }
            else if ($scope.length == '12' && StartingString == true) {
                $scope.txtContactPerson = $scope.txtContactPerson;
            }
            else {
                $scope.txtContactPerson = '';
                $scope.Notification('error', 'Error', 'Please Enter Valid Length Mobile # Format/923121234567');
            }
        };
            //=============Get Class By ID=================
            $scope.GetClassDataByID = function (ClassID,ClassName) {
                $scope.txtClassID = ClassID;
                $scope.txtClassName = ClassName;
            };
            //=============Display Company Data By LookUp=================
            $scope.GetAllData = function () {
                var displayReq = {
                    method: "POST",
                    url: "/Company/Get_data",
                    data: {}
                }
                $http(displayReq).then(function (Return) {

                    $scope.dtGetAll = angular.fromJson(Return.data);

                }, function myError(Return) {
                    $scope.Notification('error', 'Error Code LC0001', Return.data);
                });
            };
            //=============Display Class Data By LookUp=================
            $scope.GetDiscClassData = function () {
                var displayReq = {
                    method: "POST",
                    url: "/Company/Get_Classdata",
                    data: {}
                }
                $http(displayReq).then(function (Return) {

                    $scope.dtClassGetAll = angular.fromJson(Return.data);

                }, function myError(Return) {
                    $scope.Notification('error', 'Error Code LC0001', Return.data);
                });
            };
            //==============Company Data Get By ID=========================
            $scope.GetDataByID = function (Company) {
                var displayReq = {
                    method: "POST",
                    url: "/Company/Get_databyid",
                    data: {
                        CompanyID : Company
                    }
                }
                $http(displayReq).then(function (Return) {

                    var dt = angular.fromJson(Return.data);

                    if (dt.length > 0) {
                        $scope.txtCompanyID = dt[0].CompanyID;
                        $scope.txtCompName = dt[0].CompanyName;
                        $scope.txtContactPerson = dt[0].ContactPerson;
                        $scope.TxtCnic = dt[0].CNIC;
                        $scope.txtNTN = dt[0].NTN;
                        $scope.txtSTRN = dt[0].STRN;
                        $scope.txtTel1 = dt[0].Mobile1;
                        $scope.txtTel2 = dt[0].Mobile2;
                        $scope.txtClassID = dt[0].ClassID;
                        $scope.txtClassName = dt[0].ClassName;
                        $scope.txtTel = dt[0].Tel;
                        $scope.txtAddress = dt[0].Address;
                        $scope.txtCity = dt[0].City;
                        $scope.txtCountry = dt[0].Country;
                        $scope.txtRemarks = dt[0].Remarks;
                        $scope.txtBusinesTyp = dt[0].BusinessType;
                        if (dt[0].InActive == false) {
                            $scope.txtStatus = 'false';
                        }
                        else {
                            $scope.txtStatus = 'true';
                        }

                        $scope.CUSaveBtn = true;
                        $scope.CUUpdateBtn = false;
                        $scope.Delbtn = false;
                    }
                    else {
                        $scope.CUSaveBtn = false;
                        $scope.CUUpdateBtn = true;
                        $scope.Delbtn = true;

                        $scope.txtCompanyID = '';
                        $scope.txtCompName = '';
                        $scope.txtContactPerson = '';
                        $scope.TxtCnic = '';
                        $scope.txtNTN = '';
                        $scope.txtSTRN = '';
                        $scope.txtClassID = 'Default';
                        $scope.txtClassName = 'Default Discount for All Sites';
                        $scope.txtTel1 = '';
                        $scope.txtBusinesTyp = '';
                        $scope.txtTel2 = '';
                        $scope.txtTel = '';
                        $scope.txtAddress = '';
                        $scope.txtCity = '';
                        $scope.txtCountry = '';
                        $scope.txtRemarks = '';
                        $scope.txtStatus = 'false';
                    }

                }, function myError(Return) {
                    $scope.Notification('error', 'Error Code LC0001', Return.data);
                });
            };
            //================Delete Company=============================
            $scope.OnDelete = function () {
                var displayReq = {
                    method: "POST",
                    url: "/Company/OnDelete",
                    data: {
                        CompanyID: $scope.txtCompanyID
                    }
                }
                $http(displayReq).then(function (Return) {
                    $scope.On_Clear();
                    if (Return.data == "Delete") {
                        $scope.Notification('success', 'Operation Completed', 'Delete Company');
                    }
                    else {
                        $scope.Notification('error', 'Error Code CU1002', 'Please Contact to Admin');
                    }
                }, function myError(Return) {
                    $scope.On_Clear();
                    $scope.Notification('error', 'Error Code CU0002', 'Please Contact to Admin');
                });

            };
            //================Insert Company Data===================================
            $scope.savedata = function () {
                var displayReq = {
                    method: 'POST',
                    url: '/Company/Add_record',
                    data: {
                        CompanyID : $scope.txtCompanyID,
                        CompanyName : $scope.txtCompName,
                        ContactPerson : $scope.txtContactPerson,
                        CNIC : $scope.TxtCnic,
                        NTN: $scope.txtNTN,
                        ClassID:$scope.txtClassID,
                        ClassName:$scope.txtClassName,
                        STRN : $scope.txtSTRN,
                        Mobile1 : $scope.txtTel1,
                        Mobile2 : $scope.txtTel2,
                        Tel : $scope.txtTel,
                        Address : $scope.txtAddress,
                        City : $scope.txtCity,
                        Country :  $scope.txtCountry,
                        Remarks : $scope.txtRemarks,
                        Status: $scope.txtStatus,
                        BusinessType : $scope.txtBusinesTyp
                    }
                }
                $http(displayReq).then(function (Return) {

                    if (Return.data == "Inserted") {
                        $scope.Notification('success', 'Operation Completed', 'Insert Company');
                        $scope.On_Clear();
                    }
                    else {
                        $scope.Notification('error', 'Error Code CU1002', 'Please Contact to Admin');
                    }
                }, function myError(Return) {
                    $scope.Notification('error', 'Error Code CU0002', 'Please Contact to Admin');
                    $scope.On_Clear();
                });
            };
            //================Update Company Data==============================
            $scope.On_Update = function () {
                var displayReq = {
                    method: "POST",
                    url: "/Company/update_record",
                    data: {
                        CompanyID : $scope.txtCompanyID,
                        CompanyName : $scope.txtCompName,
                        ContactPerson : $scope.txtContactPerson,
                        CNIC : $scope.TxtCnic,
                        NTN : $scope.txtNTN,
                        STRN: $scope.txtSTRN,
                        ClassID:$scope.txtClassID,
                        ClassName:$scope.txtClassName,
                        Mobile1 : $scope.txtTel1,
                        Mobile2 : $scope.txtTel2,
                        Tel : $scope.txtTel,
                        Address : $scope.txtAddress,
                        City : $scope.txtCity,
                        Country :  $scope.txtCountry,
                        Remarks : $scope.txtRemarks,
                        Status: $scope.txtStatus,
                        BusinessType : $scope.txtBusinesTyp
                    }
                }
                $http(displayReq).then(function (Return) {
                    if (Return.data == "Updated") {
                        $scope.Notification('success', 'Operation Completed', 'Update Company');
                        $scope.On_Clear();
                    }
                    else {
                        $scope.Notification('error', 'Error Code CU1002', 'Please Contact to Admin');
                    }
                }, function myError(Return) {
                    $scope.On_Clear();
                    $scope.Notification('error', 'Error Code CU0002', 'Please Contact to Admin');
                });
            };
            //===================Auto Get Company ID===============================
            $scope.GetCompID = function () {
                var displayReq = {
                    method: "POST",
                    url: "/Company/Get_CompID",
                    data: {
                    }
                }
                $http(displayReq).then(function (Return) {
                 var dt = angular.fromJson(Return.data);
                    if (dt.length > 0) {
                        $scope.txtCompanyID = dt[0].ID;
                    }
                }, function myError(Return) {
                    $scope.Notification('error', 'Error Code LC0001', Return.data);
                });
            };
            //=============================Clear Function==============================
            $scope.On_Clear = function () {
                $scope.txtCompanyID = '';
                $scope.txtCompName = '';
                $scope.txtContactPerson = '';
                $scope.TxtCnic = '';
                $scope.txtNTN = '';
                $scope.txtSTRN = '';
                $scope.txtTel1 = '';
                $scope.txtTel2 = '';
                $scope.txtTel = '';
                $scope.txtAddress = '';
                $scope.txtCity = '';
                $scope.txtCountry = '';
                $scope.txtClassID = 'Default';
                $scope.txtClassName = 'Default Discount for All Sites';
                $scope.txtRemarks = '';
                $scope.txtBusinesTyp = '';
                $scope.txtStatus = 'false';

                $scope.CUSaveBtn = false;
                $scope.CUUpdateBtn = true;
                $scope.Delbtn = true;

                $scope.GetCompID();
            };
            $scope.OnLoad = function () {
                $scope.CUSaveBtn = false;
                $scope.CUUpdateBtn = true;
                $scope.txtClassID = 'Default';
                $scope.txtClassName = 'Default Discount for All Sites';
                $scope.Delbtn = true;
                $scope.txtStatus = 'false';
            };
            $scope.OnLoad();
            $scope.GetCompID();
        });


    </script>

}
